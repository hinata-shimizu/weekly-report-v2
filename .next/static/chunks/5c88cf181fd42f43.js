(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73842,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),i=e.i(52484),r=e.i(46932);function l({initialMinutes:e,onComplete:a,onExit:i}){let[l,n]=(0,s.useState)(60*e),[o,c]=(0,s.useState)(!1),[d,x]=(0,s.useState)(60*e);(0,s.useEffect)(()=>{let e;return o&&l>0?e=setInterval(()=>{n(e=>e-1)},1e3):0===l&&c(!1),()=>clearInterval(e)},[o,l]);let h=Math.max(0,l/d),m=Math.floor(l/60),u=e=>String(e).padStart(2,"0"),f=208*Math.PI,g=f-h*f;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-8",children:[(0,t.jsxs)("div",{className:"relative flex items-center justify-center",children:[(0,t.jsxs)("svg",{height:240,width:240,className:"rotate-[-90deg]",children:[(0,t.jsx)("circle",{className:"stroke-slate-200 dark:stroke-[#2f3336]",strokeWidth:8,fill:"transparent",r:104,cx:120,cy:120}),(0,t.jsx)(r.motion.circle,{className:"stroke-indigo-500 dark:stroke-[#1d9bf0]",strokeWidth:8,fill:"transparent",r:104,cx:120,cy:120,strokeDasharray:f+" "+f,strokeDashoffset:g,strokeLinecap:"round",initial:{strokeDashoffset:f},animate:{strokeDashoffset:g},transition:{duration:1,ease:"linear"}})]}),(0,t.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-800 dark:text-[#e7e9ea]",children:[(0,t.jsxs)("div",{className:"text-6xl font-mono font-bold tracking-widest tabular-nums",children:[u(m),":",u(l%60)]}),(0,t.jsx)("p",{className:"text-sm text-slate-400 dark:text-[#71767b] mt-2 font-medium",children:o?"FOCUSING...":"READY"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("button",{onClick:i,className:"p-4 rounded-full bg-slate-100 text-slate-400 hover:bg-slate-200 hover:text-slate-600 dark:bg-[#16181c] dark:text-[#71767b] dark:hover:bg-[#2f3336] dark:hover:text-[#e7e9ea] transition-all",title:"çµ‚äº†ã—ã¦æˆ»ã‚‹",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M18 6 6 18"}),(0,t.jsx)("path",{d:"m6 6 12 12"})]})}),(0,t.jsx)("button",{onClick:()=>c(!o),className:"p-6 rounded-full bg-white text-indigo-600 shadow-xl border border-indigo-100 dark:bg-black dark:text-[#1d9bf0] dark:border-[#1d9bf0]/50 hover:scale-105 active:scale-95 transition-all",children:o?(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",className:"ml-1",children:(0,t.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,t.jsx)("button",{onClick:()=>a(d-l),className:"p-4 rounded-full bg-emerald-50 text-emerald-500 border border-emerald-100 dark:bg-black dark:text-[#00ba7c] dark:border-[#003a27] hover:bg-emerald-500 hover:text-white dark:hover:bg-[#00ba7c] dark:hover:text-white transition-all",title:"ã‚¿ã‚¹ã‚¯å®Œäº†ï¼",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M20 6 9 17l-5-5"})})})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{onClick:()=>{c(!1),n(d)},className:"text-xs text-slate-400 hover:text-slate-600 underline",children:"ã‚¿ã‚¤ãƒžãƒ¼ã‚’ãƒªã‚»ãƒƒãƒˆ"})})]})}var n=e.i(88653);function o(){let e=(0,a.useSearchParams)(),o=(0,a.useRouter)(),c=e.get("reportId"),d=e.get("taskId"),[x,h]=(0,s.useState)(null),[m,u]=(0,s.useState)(!1),[f,g]=(0,s.useState)([]),[k,b]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!c||!d)return void u(!0);let e=Date.now(),t=(0,i.loadTasks)(c,e);g(t);let s=t.find(e=>e.id===d);s&&h(s),u(!0)},[c,d]);let v=()=>{o.back()};return m?x?(0,t.jsxs)("main",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4 transition-colors duration-500",children:[(0,t.jsxs)("div",{className:"w-full max-w-md mx-auto text-center space-y-12",children:[(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,t.jsx)("h1",{className:"text-xl font-medium text-slate-700 tracking-wide",children:x.title})}),(0,t.jsx)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:(0,t.jsx)(l,{initialMinutes:25,onComplete:e=>{if(b(!0),c&&d){let t=f.map(t=>t.id===d?{...t,status:"done",actualSeconds:(t.actualSeconds||0)+e}:t);window.localStorage.setItem(`${i.TASKS_KEY_PREFIX}${c}`,JSON.stringify(t))}setTimeout(()=>{o.back()},2e3)},onExit:v})})]}),(0,t.jsx)(n.AnimatePresence,{children:k&&(0,t.jsx)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:(0,t.jsxs)(r.motion.div,{initial:{scale:.5,opacity:0},animate:{scale:1.2,opacity:1},className:"text-4xl md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 animate-pulse text-center",children:["COMPLETED! ðŸŽ‰",(0,t.jsx)("p",{className:"text-slate-500 text-lg mt-4 font-medium tracking-widest",children:"GREAT JOB"})]})})})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-slate-400",children:[(0,t.jsx)("p",{children:"ã‚¿ã‚¹ã‚¯ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"}),(0,t.jsx)("button",{onClick:v,className:"ml-4 underline hover:text-white",children:"æˆ»ã‚‹"})]}):null}function c(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-slate-50"}),children:(0,t.jsx)(o,{})})}e.s(["default",()=>c],73842)}]);