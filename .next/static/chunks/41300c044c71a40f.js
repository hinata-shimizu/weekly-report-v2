(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94542,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(7471),s=e.i(18566),l=e.i(46932);function d(){let e=(0,s.useRouter)(),[d,i]=(0,a.useState)(!1),[n,o]=(0,a.useState)(""),[c,x]=(0,a.useState)(""),[u,b]=(0,a.useState)(!1),[m,g]=(0,a.useState)(null),[h,p]=(0,a.useState)(null),f=async t=>{t.preventDefault(),b(!0),g(null),p(null);try{if(d){let{error:e}=await r.supabase.auth.signUp({email:n,password:c,options:{emailRedirectTo:`${window.location.origin}/login`}});if(e)throw e;p("確認メールを送信しました。メール内のリンクをクリックして登録を完了してください。")}else{let{error:t}=await r.supabase.auth.signInWithPassword({email:n,password:c});if(t)throw t;e.push("/reports"),e.refresh()}}catch(e){g(e.message)}finally{b(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-white dark:bg-black text-slate-900 dark:text-[#e7e9ea] flex flex-col items-center justify-center p-4",children:(0,t.jsxs)(l.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-500 to-purple-500 mb-2",children:"Weekly Report"}),(0,t.jsx)("p",{className:"text-slate-500 dark:text-[#71767b]",children:d?"新しいアカウントを作成":"アカウントにログイン"})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-black border border-slate-200 dark:border-[#2f3336] rounded-2xl p-8 shadow-xl",children:[(0,t.jsxs)("form",{onSubmit:f,className:"space-y-5",children:[m&&(0,t.jsx)("div",{className:"p-3 text-sm text-red-600 bg-red-50 dark:bg-red-900/20 dark:text-red-400 rounded-lg",children:m}),h&&(0,t.jsx)("div",{className:"p-3 text-sm text-green-600 bg-green-50 dark:bg-green-900/20 dark:text-green-400 rounded-lg",children:h}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-[#71767b] mb-1.5",children:"メールアドレス"}),(0,t.jsx)("input",{type:"email",required:!0,value:n,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-[#16181c] border border-slate-200 dark:border-[#2f3336] text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all",placeholder:"name@example.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-[#71767b] mb-1.5",children:"パスワード"}),(0,t.jsx)("input",{type:"password",required:!0,value:c,onChange:e=>x(e.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-[#16181c] border border-slate-200 dark:border-[#2f3336] text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all",placeholder:"••••••••"})]}),(0,t.jsx)("button",{type:"submit",disabled:u,className:"w-full py-3.5 bg-indigo-600 hover:bg-indigo-700 dark:bg-[#1d9bf0] dark:hover:bg-[#1a8cd8] text-white font-bold rounded-xl shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:u?"処理中...":d?"アカウント作成":"ログイン"})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsxs)("p",{className:"text-sm text-slate-500 dark:text-[#71767b]",children:[d?"すでにアカウントをお持ちですか？":"アカウントをお持ちでないですか？",(0,t.jsx)("button",{onClick:()=>i(!d),className:"ml-2 font-bold text-indigo-600 dark:text-[#1d9bf0] hover:underline",children:d?"ログイン":"新規登録"})]})})]})]})})}e.s(["default",()=>d])}]);