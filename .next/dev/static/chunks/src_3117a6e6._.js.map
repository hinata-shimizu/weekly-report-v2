{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hinat/projects/weekly-report-app/src/lib/reportUtils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\n// --- Types ---\r\n\r\nexport type Report = {\r\n    id: string;\r\n    title: string; // ã€ŒM/Dï½M/Dã®é€±å ±ã€\r\n    description: string; // èª¬æ˜\r\n    createdAt: string; // ISOæ–‡å­—åˆ—\r\n    weekStart: string; // ãã®é€±ã®é–‹å§‹æ—¥ï¼ˆISOï¼‰\r\n    weekEnd: string; // ãã®é€±ã®çµ‚äº†æ—¥ï¼ˆISOï¼‰\r\n};\r\n\r\nexport type TaskStatus = \"not_decided\" | \"todo\" | \"doing\" | \"done\";\r\n\r\nexport type TaskPriority = \"p0\" | \"p1\" | \"p2\";\r\n\r\nexport type Task = {\r\n    id: string;\r\n    title: string;\r\n    status: TaskStatus;\r\n    tag: string | null;\r\n\r\n    priority: TaskPriority; // existing code assumed \"todo\" priority but now we have explicit priority\r\n    isToday: boolean;\r\n\r\n    estimatedMinutes: number | null;\r\n    actualSeconds: number;\r\n\r\n    isRunning: boolean;\r\n    startedAt: number | null;\r\n};\r\n\r\n// ... existing types ... \r\n\r\nexport const PRIORITY_ORDER: TaskPriority[] = [\"p0\", \"p1\", \"p2\"];\r\nexport const STATUS_ORDER: TaskStatus[] = [\"not_decided\", \"todo\", \"doing\", \"done\"];\r\n\r\nexport const PRIORITY_LABEL: Record<TaskPriority, string> = {\r\n    p0: \"P0\",\r\n    p1: \"P1\",\r\n    p2: \"P2\",\r\n};\r\n\r\nexport const STATUS_LABEL: Record<TaskStatus, string> = {\r\n    not_decided: \"æœªæ±ºå®š\",\r\n    todo: \"æœªç€æ‰‹\",\r\n    doing: \"é€²è¡Œä¸­\",\r\n    done: \"å®Œäº†\",\r\n};\r\n\r\n// ... existing constants ...\r\n\r\n// --- Utility Functions ---\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n    return twMerge(clsx(inputs));\r\n}\r\n\r\n// ... existing functions (getWeekRange, formatWeekRangeTitle, formatDate, sortReportsDesc, safeTagLabel, formatHMFromSecondsSimple, clamp) ...\r\n\r\n/** å®Œäº†æ™‚ã®normalizeç”¨ï¼ˆè©³ç´°ãƒšãƒ¼ã‚¸ã§ä½¿ã†ï¼‰ */\r\nexport function normalizeTask(t: any): Task {\r\n    return {\r\n        id: t?.id ?? crypto.randomUUID(),\r\n        title: typeof t?.title === \"string\" ? t.title : \"\",\r\n        status: (STATUS_ORDER as string[]).includes(t?.status)\r\n            ? (t.status as TaskStatus)\r\n            : \"todo\",\r\n        tag: typeof t?.tag === \"string\" ? t.tag : null,\r\n\r\n        priority: (PRIORITY_ORDER as string[]).includes(t?.priority)\r\n            ? (t.priority as TaskPriority)\r\n            : \"p1\",\r\n        isToday: typeof t?.isToday === \"boolean\" ? t.isToday : false,\r\n\r\n        estimatedMinutes: typeof t?.estimatedMinutes === \"number\" ? t.estimatedMinutes : null,\r\n        actualSeconds: typeof t?.actualSeconds === \"number\" ? t.actualSeconds : 0,\r\n\r\n        isRunning: false, // ãƒ­ãƒ¼ãƒ‰æ™‚ã¯åœæ­¢\r\n        startedAt: null,\r\n    };\r\n}\r\n\r\nexport function getRunningExtraSeconds(task: Task, now: number) {\r\n    if (!task.isRunning || !task.startedAt) return 0;\r\n    return Math.max(0, Math.floor((now - task.startedAt) / 1000));\r\n}\r\n\r\nexport function getTotalActualSeconds(task: Task, now: number) {\r\n    return task.actualSeconds + getRunningExtraSeconds(task, now);\r\n}\r\n\r\nexport function formatJPDateTime(ms: number) {\r\n    const d = new Date(ms);\r\n    const y = d.getFullYear();\r\n    const m = String(d.getMonth() + 1).padStart(2, \"0\");\r\n    const day = String(d.getDate()).padStart(2, \"0\");\r\n    const hh = String(d.getHours()).padStart(2, \"0\");\r\n    const mm = String(d.getMinutes()).padStart(2, \"0\");\r\n    return `${y}/${m}/${day} ${hh}:${mm}`;\r\n}\r\n\r\nexport function pickTopBySeconds(tasks: Task[], now: number, n: number) {\r\n    const arr = tasks\r\n        .map((t) => ({ t, sec: getTotalActualSeconds(t, now) }))\r\n        .filter((x) => x.sec > 0)\r\n        .sort((a, b) => b.sec - a.sec)\r\n        .slice(0, n);\r\n    return arr;\r\n}\r\n\r\nexport function pickTopTagsBySeconds(tasks: Task[], now: number, n: number) {\r\n    const map = new Map<string, number>();\r\n    for (const t of tasks) {\r\n        const tag = safeTagLabel(t.tag ?? \"\");\r\n        map.set(tag, (map.get(tag) ?? 0) + getTotalActualSeconds(t, now));\r\n    }\r\n    return Array.from(map.entries())\r\n        .map(([tag, sec]) => ({ tag, sec }))\r\n        .filter((x) => x.sec > 0)\r\n        .sort((a, b) => b.sec - a.sec)\r\n        .slice(0, n);\r\n}\r\n\r\nexport function calcEstimateInsights(tasks: Task[], now: number) {\r\n    const withEst = tasks.filter((t) => t.estimatedMinutes != null && t.estimatedMinutes >= 0);\r\n\r\n    const diffs = withEst.map((t) => {\r\n        const actualMin = Math.floor(getTotalActualSeconds(t, now) / 60);\r\n        const estMin = t.estimatedMinutes ?? 0;\r\n        const diff = actualMin - estMin;\r\n        return { t, actualMin, estMin, diff };\r\n    });\r\n\r\n    const overruns = diffs\r\n        .filter((x) => x.estMin > 0 && x.diff > 0)\r\n        .sort((a, b) => b.diff - a.diff);\r\n\r\n    const underruns = diffs\r\n        .filter((x) => x.estMin > 0 && x.diff < 0)\r\n        .sort((a, b) => a.diff - b.diff);\r\n\r\n    const avgDiff =\r\n        diffs.length > 0 ? diffs.reduce((sum, x) => sum + x.diff, 0) / diffs.length : null;\r\n\r\n    return { withEstCount: diffs.length, avgDiff, overruns, underruns };\r\n}\r\n\r\nexport function generateReflectionText(tasks: Task[], now: number, topN = 5) {\r\n    const done = tasks.filter((t) => t.status === \"done\");\r\n    const notDone = tasks.filter((t) => t.status !== \"done\");\r\n\r\n    const totalSec = tasks.reduce((sum, t) => sum + getTotalActualSeconds(t, now), 0);\r\n    const doneSec = done.reduce((sum, t) => sum + getTotalActualSeconds(t, now), 0);\r\n    const notDoneSec = notDone.reduce((sum, t) => sum + getTotalActualSeconds(t, now), 0);\r\n\r\n    const topTasks = pickTopBySeconds(tasks, now, 3);\r\n    const topTags = pickTopTagsBySeconds(tasks, now, 5);\r\n\r\n    // High Priority Done\r\n    const doneP0 = done.filter(t => t.priority === \"p0\");\r\n\r\n    // Low Priority but time consuming (Potential Problem)\r\n    const timeWasters = done\r\n        .filter(t => t.priority === \"p2\" && getTotalActualSeconds(t, now) > 30 * 60) // > 30 mins\r\n        .sort((a, b) => getTotalActualSeconds(b, now) - getTotalActualSeconds(a, now));\r\n\r\n    const todayNotDone = tasks\r\n        .filter((t) => t.isToday && t.status !== \"done\")\r\n        .sort((a, b) => {\r\n            const pr: Record<TaskPriority, number> = { p0: 0, p1: 1, p2: 2 };\r\n            return pr[a.priority] - pr[b.priority];\r\n        });\r\n\r\n    const { withEstCount, avgDiff, overruns } = calcEstimateInsights(tasks, now);\r\n\r\n    const lines: string[] = [];\r\n    lines.push(`ã€ğŸ¤– è‡ªå‹•ç”Ÿæˆã‚µãƒãƒªãƒ¼ ${formatJPDateTime(now)}ã€‘`);\r\n    lines.push(\"\");\r\n\r\n    // 1. Overview\r\n    lines.push(\"ğŸ“Š 1. å®šé‡ãƒ‡ãƒ¼ã‚¿\");\r\n    lines.push(`- ç¨¼åƒæ™‚é–“ï¼š${formatHMFromSecondsSimple(totalSec)}ï¼ˆå®Œäº† ${formatHMFromSecondsSimple(doneSec)} / æœªå®Œäº† ${formatHMFromSecondsSimple(notDoneSec)}ï¼‰`);\r\n    lines.push(`- ã‚¿ã‚¹ã‚¯æ¶ˆåŒ–ç‡ï¼š${Math.round((done.length / Math.max(tasks.length, 1)) * 100)}%ï¼ˆå®Œäº† ${done.length} / å…¨ ${tasks.length}ï¼‰`);\r\n    if (doneP0.length > 0) {\r\n        lines.push(`- â˜…é‡è¦ã‚¿ã‚¹ã‚¯(P0)é”æˆæ•°ï¼š${doneP0.length}ä»¶`);\r\n    }\r\n    lines.push(\"\");\r\n\r\n    // 2. Focus Area (Tags)\r\n    lines.push(\"ğŸ¨ 2. æ™‚é–“ã®ä½¿ã„æ–¹ï¼ˆã‚¿ã‚°åˆ†æï¼‰\");\r\n    if (topTags.length > 0) {\r\n        topTags.forEach(row => {\r\n            const pct = Math.round((row.sec / Math.max(totalSec, 1)) * 100);\r\n            lines.push(`- ${row.tag}ï¼š${formatHMFromSecondsSimple(row.sec)} (${pct}%)`);\r\n        });\r\n    } else {\r\n        lines.push(\"- ãƒ‡ãƒ¼ã‚¿ãªã—\");\r\n    }\r\n    lines.push(\"\");\r\n\r\n    // 3. Highlights\r\n    lines.push(\"ğŸ† 3. ä¸»ãªæˆæœ\");\r\n    if (done.length === 0) {\r\n        lines.push(\"- å®Œäº†ã‚¿ã‚¹ã‚¯ãªã—\");\r\n    } else {\r\n        // List P0 first\r\n        if (doneP0.length > 0) {\r\n            lines.push(\"ã€P0ï¼šé‡è¦ã€‘å³æˆ¦åŠ›ã¨ã—ã¦å®Œäº†ï¼\");\r\n            doneP0.forEach(t => lines.push(`  âœ“ ${t.title} (${formatHMFromSecondsSimple(getTotalActualSeconds(t, now))})`));\r\n        }\r\n        // Others (Top 5 by time)\r\n        const otherDone = done.filter(t => t.priority !== \"p0\")\r\n            .sort((a, b) => getTotalActualSeconds(b, now) - getTotalActualSeconds(a, now))\r\n            .slice(0, 5);\r\n\r\n        if (otherDone.length > 0) {\r\n            if (doneP0.length > 0) lines.push(\"ã€ãã®ä»–ï¼šä¸»è¦ãªå®Œäº†ã€‘\");\r\n            otherDone.forEach(t => lines.push(`  âœ“ ${t.title} (${formatHMFromSecondsSimple(getTotalActualSeconds(t, now))})`));\r\n        }\r\n    }\r\n    lines.push(\"\");\r\n\r\n    // 4. Issues / Next Actions\r\n    lines.push(\"âš ï¸ 4. èª²é¡Œãƒ»ãƒã‚¯ã‚¹ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³\");\r\n    if (overruns.length > 0) {\r\n        lines.push(\"- â° æ™‚é–“è¶…éï¼ˆè¦‹ç©ã‚‚ã‚Šã¨ã®ã‚ºãƒ¬å¤§ï¼‰\");\r\n        overruns.slice(0, 3).forEach(x => {\r\n            lines.push(`  ! ${x.t.title}ï¼šäºˆ +${Math.round(x.diff)}åˆ†ã‚ªãƒ¼ãƒãƒ¼`);\r\n        });\r\n    }\r\n    if (timeWasters.length > 0) {\r\n        lines.push(\"- ğŸ¢ å„ªå…ˆåº¦ä½ã ãŒæ™‚é–“æ¶ˆè²»å¤§ï¼ˆè¦è¦‹ç›´ã—ï¼Ÿï¼‰\");\r\n        timeWasters.slice(0, 3).forEach(t => {\r\n            lines.push(`  ? ${t.title} (P2)ï¼š${formatHMFromSecondsSimple(getTotalActualSeconds(t, now))}`);\r\n        });\r\n    }\r\n    if (todayNotDone.length > 0) {\r\n        lines.push(\"- ğŸ”¥ æœ¬æ—¥ã®ç©ã¿æ®‹ã—\");\r\n        todayNotDone.slice(0, 3).forEach(t => {\r\n            lines.push(`  -> ${t.title} (${PRIORITY_LABEL[t.priority]})`);\r\n        });\r\n    }\r\n    if (overruns.length === 0 && timeWasters.length === 0 && todayNotDone.length === 0) {\r\n        lines.push(\"- ç‰¹ã«ãªã—ã€‚é †èª¿ã§ã™ï¼ğŸ‰\");\r\n    }\r\n\r\n    return lines.join(\"\\n\");\r\n}\r\n\r\nexport function generateCsvText(tasks: Task[], now: number) {\r\n    if (tasks.length === 0) return \"\";\r\n\r\n    const escapeCsv = (value: string): string => {\r\n        const escaped = value.replace(/\"/g, '\"\"');\r\n        return `\"${escaped}\"`;\r\n    };\r\n\r\n    const header = \"ã‚¿ã‚¹ã‚¯å,ã‚¿ã‚°,å„ªå…ˆåº¦,Today,ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹,è¦‹ç©ã‚‚ã‚Š(åˆ†),å®Ÿç¸¾(åˆ†),å·®åˆ†(åˆ†)\";\r\n\r\n    const lines = tasks.map((task) => {\r\n        const totalSeconds = getTotalActualSeconds(task, now);\r\n        const actualMinutes = Math.floor(totalSeconds / 60);\r\n        const est = task.estimatedMinutes;\r\n\r\n        let diffStr = \"\";\r\n        if (est != null) {\r\n            const diff = actualMinutes - est;\r\n            if (diff > 0) diffStr = `+${diff}`;\r\n            else if (diff === 0) diffStr = \"0\";\r\n            else diffStr = `${diff}`;\r\n        }\r\n\r\n        const title = escapeCsv(task.title);\r\n        const tagStr = escapeCsv(task.tag ?? \"\");\r\n        const priorityStr = escapeCsv(PRIORITY_LABEL[task.priority]);\r\n        const todayStr = task.isToday ? \"1\" : \"0\";\r\n        const statusStr = escapeCsv(STATUS_LABEL[task.status]);\r\n        const estStr = est != null ? String(est) : \"\";\r\n        const actualStr = String(actualMinutes);\r\n\r\n        return [title, tagStr, priorityStr, todayStr, statusStr, estStr, actualStr, diffStr].join(\",\");\r\n    });\r\n\r\n    return [header, ...lines].join(\"\\n\");\r\n}\r\n\r\n\r\n\r\n\r\nexport type ReportStats = {\r\n    totalCount: number;\r\n    doneCount: number;\r\n    todayRemaining: number;\r\n\r\n    totalActualSeconds: number;\r\n\r\n    estimatedCount: number;\r\n    avgDiffMinutes: number | null;\r\n\r\n    topTags: { tag: string; seconds: number }[];\r\n    highlights: Task[];\r\n    noteSummary?: string;\r\n};\r\n\r\n// --- Constants ---\r\n\r\nexport const STORAGE_KEY = \"weekly-report-list\";\r\nexport const TASKS_KEY_PREFIX = \"weekly-report-tasks-\";\r\nexport const TAG_STORAGE_KEY = \"weekly-report-tags\";\r\nexport const DEFAULT_TAG_LABEL = \"(æœªè¨­å®š)\";\r\nexport const DEFAULT_TAGS = [\"é–‹ç™º\", \"å­¦ç¿’\", \"å°±æ´»\", \"äº‹å‹™\", \"ç”Ÿæ´»\"];\r\n\r\n// --- Utility Functions ---\r\n\r\nexport function loadStoredTags(): string[] {\r\n    if (typeof window === \"undefined\") return DEFAULT_TAGS;\r\n\r\n    const raw = window.localStorage.getItem(TAG_STORAGE_KEY);\r\n    if (!raw) {\r\n        // If empty, initialize with defaults\r\n        window.localStorage.setItem(TAG_STORAGE_KEY, JSON.stringify(DEFAULT_TAGS));\r\n        return DEFAULT_TAGS;\r\n    }\r\n\r\n    try {\r\n        const parsed = JSON.parse(raw);\r\n        if (!Array.isArray(parsed)) return DEFAULT_TAGS;\r\n        return parsed;\r\n    } catch {\r\n        return DEFAULT_TAGS;\r\n    }\r\n}\r\n\r\nexport function saveStoredTags(tags: string[]) {\r\n    if (typeof window === \"undefined\") return;\r\n    window.localStorage.setItem(TAG_STORAGE_KEY, JSON.stringify(tags));\r\n}\r\n\r\n/** é€±ã®é–‹å§‹ãƒ»çµ‚äº†ï¼ˆæœˆæ›œã¯ã˜ã¾ã‚Šã€æ—¥æ›œãŠã‚ã‚Šï¼‰ */\r\nexport function getWeekRange(date: Date): { start: Date; end: Date } {\r\n    const d = new Date(date);\r\n    d.setHours(0, 0, 0, 0);\r\n\r\n    const day = d.getDay(); // 0:æ—¥, 1:æœˆ, ... 6:åœŸ\r\n    const diffFromMonday = (day + 6) % 7; // æœˆæ›œã‚’0ã«ã™ã‚‹\r\n\r\n    const start = new Date(d);\r\n    start.setDate(d.getDate() - diffFromMonday);\r\n    start.setHours(0, 0, 0, 0);\r\n\r\n    const end = new Date(start);\r\n    end.setDate(start.getDate() + 6);\r\n    end.setHours(23, 59, 59, 999);\r\n\r\n    return { start, end };\r\n}\r\n\r\n/** ã‚¿ã‚¤ãƒˆãƒ«ç”¨ï¼šã€ŒM/Dï½M/Dã®é€±å ±ã€ */\r\nexport function formatWeekRangeTitle(startIso: string, endIso: string): string {\r\n    const s = new Date(startIso);\r\n    const e = new Date(endIso);\r\n    if (Number.isNaN(s.getTime()) || Number.isNaN(e.getTime())) return \"é€±å ±\";\r\n\r\n    const sStr = s.toLocaleDateString(\"ja-JP\", { month: \"numeric\", day: \"numeric\" });\r\n    const eStr = e.toLocaleDateString(\"ja-JP\", { month: \"numeric\", day: \"numeric\" });\r\n    return `${sStr}ï½${eStr}ã®é€±å ±`;\r\n}\r\n\r\n/** ä½œæˆæ—¥ã®è¡¨ç¤ºç”¨ï¼ˆä¾‹: 2025/12/13ï¼‰ */\r\nexport function formatDate(iso: string): string {\r\n    const d = new Date(iso);\r\n    if (Number.isNaN(d.getTime())) return \"\";\r\n    return d.toLocaleDateString(\"ja-JP\", { year: \"numeric\", month: \"2-digit\", day: \"2-digit\" });\r\n}\r\n\r\n/** ä¸€è¦§ã‚’ã€Œæ–°ã—ã„é †ã€ã«ä¸¦ã¹æ›¿ãˆã‚‹ï¼ˆcreatedAt â†’ id ã®é †ï¼‰ */\r\nexport function sortReportsDesc(reports: Report[]): Report[] {\r\n    return [...reports].sort((a, b) => {\r\n        const ta = new Date(a.createdAt).getTime();\r\n        const tb = new Date(b.createdAt).getTime();\r\n        if (!Number.isNaN(ta) && !Number.isNaN(tb) && ta !== tb) return tb - ta;\r\n\r\n        const na = Number(a.id);\r\n        const nb = Number(b.id);\r\n        if (!Number.isNaN(na) && !Number.isNaN(nb)) return nb - na;\r\n\r\n        return 0;\r\n    });\r\n}\r\n\r\nexport function safeTagLabel(tag: unknown): string {\r\n    if (typeof tag !== \"string\") return DEFAULT_TAG_LABEL;\r\n    const t = tag.trim();\r\n    return t ? t : DEFAULT_TAG_LABEL;\r\n}\r\n\r\nexport function formatHMFromSecondsSimple(totalSeconds: number) {\r\n    const totalMinutes = Math.floor(totalSeconds / 60);\r\n    const h = Math.floor(totalMinutes / 60);\r\n    const m = totalMinutes % 60;\r\n    if (h <= 0) return `${m}åˆ†`;\r\n    if (m === 0) return `${h}æ™‚é–“`;\r\n    return `${h}æ™‚é–“${m}åˆ†`;\r\n}\r\n\r\nexport function clamp(n: number, min: number, max: number) {\r\n    return Math.max(min, Math.min(max, n));\r\n}\r\n\r\n/** ã‚¿ã‚¹ã‚¯é…åˆ—ã‚’å®‰å…¨ã«èª­ã‚€ï¼ˆå£Šã‚Œã¦ã¦ã‚‚è½ã¡ãªã„ï¼‰ */\r\nexport function loadTasks(reportId: string, nowMs: number): Task[] {\r\n    if (typeof window === \"undefined\") return [];\r\n\r\n    const raw = window.localStorage.getItem(`${TASKS_KEY_PREFIX}${reportId}`);\r\n    if (!raw) return [];\r\n\r\n    try {\r\n        const parsed = JSON.parse(raw);\r\n        if (!Array.isArray(parsed)) return [];\r\n\r\n        return parsed.map((t: any) => {\r\n            const baseActual = typeof t?.actualSeconds === \"number\" ? t.actualSeconds : 0;\r\n            const isRunning = !!t?.isRunning;\r\n            const startedAt = typeof t?.startedAt === \"number\" ? t.startedAt : null;\r\n\r\n            // ä¸€è¦§ãƒšãƒ¼ã‚¸ã§ã¯ã€Œã“ã®ç¬é–“ã®çµŒéåˆ†ã€ã‚’åŠ ç®—ã—ã¦è¡¨ç¤ºã ã‘æ›´æ–°ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã¯ã—ãªã„ï¼‰\r\n            const extra =\r\n                isRunning && startedAt ? Math.max(0, Math.floor((nowMs - startedAt) / 1000)) : 0;\r\n\r\n            const status: TaskStatus =\r\n                t?.status === \"not_decided\" || t?.status === \"todo\" || t?.status === \"doing\" || t?.status === \"done\"\r\n                    ? t.status\r\n                    : \"todo\";\r\n\r\n            return {\r\n                id: typeof t?.id === \"string\" ? t.id : crypto.randomUUID(),\r\n                title: typeof t?.title === \"string\" ? t.title : \"\",\r\n                status,\r\n                tag: typeof t?.tag === \"string\" ? t.tag : null,\r\n\r\n                priority: (PRIORITY_ORDER as string[]).includes(t?.priority) ? (t.priority as TaskPriority) : \"p1\",\r\n\r\n                estimatedMinutes:\r\n                    typeof t?.estimatedMinutes === \"number\" && t.estimatedMinutes >= 0 ? Math.floor(t.estimatedMinutes) : null,\r\n\r\n                actualSeconds: baseActual + extra,\r\n                isToday: typeof t?.isToday === \"boolean\" ? t.isToday : false,\r\n\r\n                isRunning,\r\n                startedAt,\r\n            };\r\n        });\r\n    } catch {\r\n        return [];\r\n    }\r\n}\r\n\r\nexport function buildStats(tasks: Task[]): ReportStats {\r\n    const totalCount = tasks.length;\r\n    const doneCount = tasks.filter((t) => t.status === \"done\").length;\r\n    const todayRemaining = tasks.filter((t) => t.isToday && t.status !== \"done\").length;\r\n\r\n    const totalActualSeconds = tasks.reduce((sum, t) => sum + (t.actualSeconds ?? 0), 0);\r\n\r\n    // è¦‹ç©ç²¾åº¦ï¼ˆå¹³å‡å·®åˆ† = å®Ÿç¸¾(åˆ†) - è¦‹ç©(åˆ†)ï¼‰\r\n    const withEst = tasks.filter((t) => t.estimatedMinutes != null);\r\n    const estimatedCount = withEst.length;\r\n\r\n    let avgDiffMinutes: number | null = null;\r\n    if (estimatedCount > 0) {\r\n        const diffs = withEst.map((t) => {\r\n            const actualMin = Math.floor((t.actualSeconds ?? 0) / 60);\r\n            const estMin = t.estimatedMinutes ?? 0;\r\n            return actualMin - estMin;\r\n        });\r\n        avgDiffMinutes = diffs.reduce((a, b) => a + b, 0) / diffs.length;\r\n    }\r\n\r\n    // ã‚¿ã‚°åˆ¥ï¼ˆä¸Šä½3ï¼‰\r\n    const map = new Map<string, number>();\r\n    for (const t of tasks) {\r\n        const key = safeTagLabel(t.tag);\r\n        map.set(key, (map.get(key) ?? 0) + (t.actualSeconds ?? 0));\r\n    }\r\n\r\n    const topTags = Array.from(map.entries())\r\n        .map(([tag, seconds]) => ({ tag, seconds }))\r\n        .filter((x) => x.seconds > 0)\r\n        .sort((a, b) => b.seconds - a.seconds)\r\n        .slice(0, 3);\r\n\r\n    // ãƒã‚¤ãƒ©ã‚¤ãƒˆæŠ½å‡º: P0ã®å®Œäº†ã‚¿ã‚¹ã‚¯ã€ã¾ãŸã¯æ™‚é–“ãŒã‹ã‹ã£ãŸå®Œäº†ã‚¿ã‚¹ã‚¯ä¸Šä½\r\n    const highlights = tasks\r\n        .filter(t => t.status === \"done\")\r\n        .sort((a, b) => {\r\n            // Priority first (p0 < p1 < p2)\r\n            const pRank = { p0: 0, p1: 1, p2: 2 };\r\n            if (a.priority !== b.priority) return pRank[a.priority] - pRank[b.priority];\r\n            // Then duration desc\r\n            return Math.abs(getTotalActualSeconds(b, 0)) - Math.abs(getTotalActualSeconds(a, 0));\r\n        })\r\n        .slice(0, 3);\r\n\r\n    return {\r\n        totalCount,\r\n        doneCount,\r\n        todayRemaining,\r\n        totalActualSeconds,\r\n        estimatedCount,\r\n        avgDiffMinutes,\r\n        topTags,\r\n        highlights,\r\n    };\r\n}\r\n\r\nexport function findThisWeekReport(reports: Report[]): Report | null {\r\n    const nowMs = Date.now();\r\n\r\n    const candidates = reports.filter((r) => {\r\n        const s = new Date(r.weekStart).getTime();\r\n        const e = new Date(r.weekEnd).getTime();\r\n        if (Number.isNaN(s) || Number.isNaN(e)) return false;\r\n        return s <= nowMs && nowMs <= e;\r\n    });\r\n\r\n    if (candidates.length === 0) return null;\r\n\r\n    // createdAtãŒæ–°ã—ã„ã‚‚ã®ã‚’å„ªå…ˆ\r\n    return [...candidates].sort((a, b) => {\r\n        const ta = new Date(a.createdAt).getTime();\r\n        const tb = new Date(b.createdAt).getTime();\r\n        return (Number.isNaN(tb) ? 0 : tb) - (Number.isNaN(ta) ? 0 : ta);\r\n    })[0];\r\n}\r\n\r\nexport function formatAvgDiff(avg: number | null) {\r\n    if (avg == null) return { label: \"â€”\", className: \"text-slate-500\" };\r\n    const rounded = Math.round(avg * 10) / 10;\r\n    if (rounded === 0) return { label: \"Â±0åˆ†\", className: \"text-slate-700\" };\r\n    if (rounded > 0) return { label: `+${rounded}åˆ†`, className: \"text-red-600\" };\r\n    return { label: `${rounded}åˆ†`, className: \"text-emerald-600\" };\r\n}\r\n\r\n/** ã‚¿ã‚°ã®æ–‡å­—åˆ—ã‹ã‚‰è‰²ã‚’ç”Ÿæˆã™ã‚‹ï¼ˆãƒ‘ã‚¹ãƒ†ãƒ«ã‚«ãƒ©ãƒ¼ï¼‰ */\r\nexport function getTagColor(tag: string | null): string {\r\n    if (!tag) return \"bg-slate-100 text-slate-600 border-slate-200\";\r\n\r\n    // Simple hash\r\n    let hash = 0;\r\n    for (let i = 0; i < tag.length; i++) {\r\n        hash = tag.charCodeAt(i) + ((hash << 5) - hash);\r\n    }\r\n\r\n    // Predefined Tailwind classes for badges\r\n    const colors = [\r\n        \"bg-red-50 text-red-700 border-red-100\",\r\n        \"bg-orange-50 text-orange-700 border-orange-100\",\r\n        \"bg-amber-50 text-amber-700 border-amber-100\",\r\n        \"bg-yellow-50 text-yellow-700 border-yellow-100\",\r\n        \"bg-lime-50 text-lime-700 border-lime-100\",\r\n        \"bg-green-50 text-green-700 border-green-100\",\r\n        \"bg-emerald-50 text-emerald-700 border-emerald-100\",\r\n        \"bg-teal-50 text-teal-700 border-teal-100\",\r\n        \"bg-cyan-50 text-cyan-700 border-cyan-100\",\r\n        \"bg-sky-50 text-sky-700 border-sky-100\",\r\n        \"bg-blue-50 text-blue-700 border-blue-100\",\r\n        \"bg-indigo-50 text-indigo-700 border-indigo-100\",\r\n        \"bg-violet-50 text-violet-700 border-violet-100\",\r\n        \"bg-purple-50 text-purple-700 border-purple-100\",\r\n        \"bg-fuchsia-50 text-fuchsia-700 border-fuchsia-100\",\r\n        \"bg-pink-50 text-pink-700 border-pink-100\",\r\n        \"bg-rose-50 text-rose-700 border-rose-100\",\r\n    ];\r\n\r\n    const index = Math.abs(hash) % colors.length;\r\n    return colors[index];\r\n}\r\n\r\nexport const TAG_COLORS: Record<string, string> = {\r\n    \"é–‹ç™º\": \"#6366f1\", // Indigo\r\n    \"å­¦ç¿’\": \"#10b981\", // Emerald\r\n    \"äº‹å‹™\": \"#f59e0b\", // Amber\r\n    \"å°±æ´»\": \"#ec4899\", // Pink\r\n    \"ç”Ÿæ´»\": \"#3b82f6\", // Blue\r\n    \"ãã®ä»–\": \"#94a3b8\", // Slate\r\n};\r\n\r\nexport function getTagColorHex(tag: string): string {\r\n    if (TAG_COLORS[tag]) return TAG_COLORS[tag];\r\n    // Randomish pastel\r\n    let hash = 0;\r\n    for (let i = 0; i < tag.length; i++) {\r\n        hash = tag.charCodeAt(i) + ((hash << 5) - hash);\r\n    }\r\n    const hue = Math.abs(hash) % 360;\r\n    return `hsl(${hue}, 70%, 60%)`;\r\n}\r\n\r\n// --- Trend Analysis Data Loading ---\r\nexport type TrendData = {\r\n    id: string;\r\n    label: string;\r\n    focusTime: number; // in hours\r\n    doneCount: number;\r\n    completionRate: number; // 0-100\r\n    // Dynamic tag usage: { \"é–‹ç™º\": 2.5, \"å­¦ç¿’\": 1.0, ... }\r\n    [key: string]: string | number;\r\n};\r\n\r\nexport function loadAllReportsStats(reports: Report[]): TrendData[] {\r\n    const data: TrendData[] = [];\r\n    const now = Date.now();\r\n\r\n    // Sort reports by date asc (Oldest -> Newest)\r\n    const sorted = [...reports].sort((a, b) => a.createdAt.localeCompare(b.createdAt));\r\n\r\n    for (const r of sorted) {\r\n        const tasks = loadTasks(r.id, now);\r\n\r\n        // Stats\r\n        const total = tasks.length;\r\n        const done = tasks.filter(t => t.status === \"done\").length;\r\n        const rate = total > 0 ? Math.round((done / total) * 100) : 0;\r\n\r\n        let totalSec = 0;\r\n        const tagMap: Record<string, number> = {};\r\n\r\n        tasks.forEach(t => {\r\n            const sec = getTotalActualSeconds(t, now);\r\n            totalSec += sec;\r\n            const tag = safeTagLabel(t.tag);\r\n            tagMap[tag] = (tagMap[tag] ?? 0) + sec;\r\n        });\r\n\r\n        const hours = parseFloat((totalSec / 3600).toFixed(1));\r\n\r\n        // Label\r\n        const d = new Date(r.createdAt);\r\n        const label = !Number.isNaN(d.getTime()) ? `${d.getMonth() + 1}/${d.getDate()}` : \"N/A\";\r\n\r\n        const row: TrendData = {\r\n            id: r.id,\r\n            label,\r\n            focusTime: hours,\r\n            doneCount: done,\r\n            completionRate: rate,\r\n        };\r\n\r\n        // Add tags to row (converted to hours)\r\n        Object.keys(tagMap).forEach(tag => {\r\n            row[tag] = parseFloat((tagMap[tag] / 3600).toFixed(1));\r\n        });\r\n\r\n        data.push(row);\r\n    }\r\n    return data;\r\n}\r\n\r\n// --- Sample Data Generation ---\r\nexport function generateSampleReports(): Report[] {\r\n    const samples: Report[] = [];\r\n    const now = new Date();\r\n\r\n    // Generate last 8 weeks\r\n    for (let i = 8; i > 0; i--) {\r\n        const targetDate = new Date(now);\r\n        targetDate.setDate(now.getDate() - i * 7); // Go back i weeks\r\n\r\n        const { start, end } = getWeekRange(targetDate);\r\n        const id = crypto.randomUUID();\r\n        const weekStartIso = start.toISOString();\r\n        const weekEndIso = end.toISOString();\r\n\r\n        const report: Report = {\r\n            id,\r\n            title: formatWeekRangeTitle(weekStartIso, weekEndIso),\r\n            description: \"ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ï¼šéå»ã®æ´»å‹•å±¥æ­´ã§ã™ã€‚\",\r\n            createdAt: targetDate.toISOString(),\r\n            weekStart: weekStartIso,\r\n            weekEnd: weekEndIso,\r\n        };\r\n\r\n        samples.push(report);\r\n\r\n        // Generate Dummy Tasks\r\n        const tasks: Task[] = [];\r\n        const taskCount = 5 + Math.floor(Math.random() * 8); // 5-12 tasks\r\n\r\n        for (let j = 0; j < taskCount; j++) {\r\n            const isDone = Math.random() > 0.3;\r\n            const tag = DEFAULT_TAGS[Math.floor(Math.random() * DEFAULT_TAGS.length)];\r\n            const durationMin = 30 + Math.floor(Math.random() * 120); // 30-150 min\r\n\r\n            const task: Task = {\r\n                id: crypto.randomUUID(),\r\n                title: `${tag}ã®ã‚¿ã‚¹ã‚¯ã‚µãƒ³ãƒ—ãƒ« ${j + 1}`,\r\n                status: isDone ? \"done\" : \"todo\",\r\n                tag,\r\n                priority: Math.random() > 0.8 ? \"p0\" : Math.random() > 0.5 ? \"p1\" : \"p2\",\r\n                isToday: false,\r\n                estimatedMinutes: durationMin,\r\n                actualSeconds: isDone ? durationMin * 60 : 0,\r\n                isRunning: false,\r\n                startedAt: null,\r\n            };\r\n            tasks.push(task);\r\n        }\r\n\r\n        // Save tasks to localStorage directly here? \r\n        // No, utility functions should probably format data, but side-effect here is cleaner for \"One Button\" action.\r\n        if (typeof window !== \"undefined\") {\r\n            window.localStorage.setItem(`${TASKS_KEY_PREFIX}${id}`, JSON.stringify(tasks));\r\n        }\r\n    }\r\n    return samples;\r\n}\r\n\r\nexport function generateSlackText(report: Report, tasks: Task[], note: string): string {\r\n    const doneTasks = tasks.filter(t => t.status === \"done\");\r\n    const doingTasks = tasks.filter(t => t.status === \"doing\");\r\n    // Removed wipTasks as it duplicated doingTasks or used wrong status\r\n    const todoTasks = tasks.filter(t => t.status === \"todo\");\r\n\r\n    const formatTask = (t: Task) => {\r\n        const time = formatHMFromSecondsSimple(getTotalActualSeconds(t, 0));\r\n        const est = t.estimatedMinutes ? ` (äºˆ${t.estimatedMinutes}åˆ†)` : \"\";\r\n        return `â€¢ ${t.title} [${time}${est}]`;\r\n    };\r\n\r\n    return `*${report.title}*\r\n${report.description ? `_${report.description}_` : \"\"}\r\n\r\n*âœ… å®Œäº† (${doneTasks.length})*\r\n${doneTasks.map(formatTask).join(\"\\n\") || \"ãªã—\"}\r\n\r\n*ğŸš§ é€²è¡Œä¸­ (${doingTasks.length})*\r\n${doingTasks.map(formatTask).join(\"\\n\") || \"ãªã—\"}\r\n\r\n*ğŸ“… ãƒˆã‚¥ãƒ‰ã‚¥ (${todoTasks.length})*\r\n${todoTasks.map(formatTask).join(\"\\n\") || \"ãªã—\"}\r\n\r\n*ğŸ’­ æŒ¯ã‚Šè¿”ã‚Š*\r\n${note || \"è¨˜è¿°ãªã—\"}\r\n`;\r\n}\r\n\r\nexport function generateNotionText(report: Report, tasks: Task[], note: string): string {\r\n    const doneTasks = tasks.filter(t => t.status === \"done\");\r\n    const doingTasks = tasks.filter(t => t.status === \"doing\");\r\n    const todoTasks = tasks.filter(t => t.status === \"todo\");\r\n\r\n    const formatTask = (t: Task) => {\r\n        const time = formatHMFromSecondsSimple(getTotalActualSeconds(t, 0));\r\n        return `- [ ] ${t.title} #time(${time})`;\r\n    };\r\n\r\n    // Notion uses markdown-like structure\r\n    return `# ${report.title}\r\n${report.description}\r\n\r\n## ä»Šé€±ã®é€²æ—\r\n### å®Œäº†\r\n${doneTasks.map(formatTask).join(\"\\n\") || \"ãªã—\"}\r\n\r\n### é€²è¡Œä¸­\r\n${doingTasks.map(formatTask).join(\"\\n\") || \"ãªã—\"}\r\n\r\n### ä»Šå¾Œã®äºˆå®š\r\n${todoTasks.map(formatTask).join(\"\\n\") || \"ãªã—\"}\r\n\r\n## æŒ¯ã‚Šè¿”ã‚Š\r\n${note}\r\n`;\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 728, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hinat/projects/weekly-report-app/src/components/focus/FocusTimer.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\ntype Props = {\r\n    initialMinutes: number;\r\n    onComplete: (elapsedSeconds: number) => void;\r\n    onExit: () => void;\r\n};\r\n\r\nexport function FocusTimer({ initialMinutes, onComplete, onExit }: Props) {\r\n    const [timeLeft, setTimeLeft] = useState(initialMinutes * 60);\r\n    const [isRunning, setIsRunning] = useState(false);\r\n    const [duration, setDuration] = useState(initialMinutes * 60);\r\n\r\n    useEffect(() => {\r\n        let interval: NodeJS.Timeout;\r\n        if (isRunning && timeLeft > 0) {\r\n            interval = setInterval(() => {\r\n                setTimeLeft((prev) => prev - 1);\r\n            }, 1000);\r\n        } else if (timeLeft === 0) {\r\n            setIsRunning(false);\r\n            // Don't auto-complete to avoid accidental triggers, let user feel the accomplishment\r\n            // OR maybe play a sound? For now, just stop.\r\n        }\r\n        return () => clearInterval(interval);\r\n    }, [isRunning, timeLeft]);\r\n\r\n    const progress = Math.max(0, timeLeft / duration); // 1.0 -> 0.0\r\n    const minutes = Math.floor(timeLeft / 60);\r\n    const seconds = timeLeft % 60;\r\n    const fmt = (n: number) => String(n).padStart(2, \"0\");\r\n\r\n    const toggleTimer = () => setIsRunning(!isRunning);\r\n    const resetTimer = () => {\r\n        setIsRunning(false);\r\n        setTimeLeft(duration);\r\n    };\r\n\r\n    // Circular Progress Props\r\n    const radius = 120;\r\n    const stroke = 8;\r\n    const normalizedRadius = radius - stroke * 2;\r\n    const circumference = normalizedRadius * 2 * Math.PI;\r\n    const strokeDashoffset = circumference - progress * circumference;\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center justify-center space-y-8\">\r\n            <div className=\"relative flex items-center justify-center\">\r\n                {/* Background Ring */}\r\n                <svg height={radius * 2} width={radius * 2} className=\"rotate-[-90deg]\">\r\n                    <circle\r\n                        className=\"stroke-slate-200 dark:stroke-[#2f3336]\"\r\n                        strokeWidth={stroke}\r\n                        fill=\"transparent\"\r\n                        r={normalizedRadius}\r\n                        cx={radius}\r\n                        cy={radius}\r\n                    />\r\n                    <motion.circle\r\n                        className=\"stroke-indigo-500 dark:stroke-[#1d9bf0]\"\r\n                        strokeWidth={stroke}\r\n                        fill=\"transparent\"\r\n                        r={normalizedRadius}\r\n                        cx={radius}\r\n                        cy={radius}\r\n                        strokeDasharray={circumference + \" \" + circumference}\r\n                        strokeDashoffset={strokeDashoffset}\r\n                        strokeLinecap=\"round\"\r\n                        initial={{ strokeDashoffset: circumference }}\r\n                        animate={{ strokeDashoffset }}\r\n                        transition={{ duration: 1, ease: \"linear\" }}\r\n                    />\r\n                </svg>\r\n\r\n                {/* Time Display */}\r\n                <div className=\"absolute inset-0 flex flex-col items-center justify-center text-slate-800 dark:text-[#e7e9ea]\">\r\n                    <div className=\"text-6xl font-mono font-bold tracking-widest tabular-nums\">\r\n                        {fmt(minutes)}:{fmt(seconds)}\r\n                    </div>\r\n                    <p className=\"text-sm text-slate-400 dark:text-[#71767b] mt-2 font-medium\">\r\n                        {isRunning ? \"FOCUSING...\" : \"READY\"}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Controls */}\r\n            <div className=\"flex items-center gap-6\">\r\n                <button\r\n                    onClick={onExit}\r\n                    className=\"p-4 rounded-full bg-slate-100 text-slate-400 hover:bg-slate-200 hover:text-slate-600 dark:bg-[#16181c] dark:text-[#71767b] dark:hover:bg-[#2f3336] dark:hover:text-[#e7e9ea] transition-all\"\r\n                    title=\"çµ‚äº†ã—ã¦æˆ»ã‚‹\"\r\n                >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                        <path d=\"M18 6 6 18\" /><path d=\"m6 6 12 12\" />\r\n                    </svg>\r\n                </button>\r\n\r\n                <button\r\n                    onClick={toggleTimer}\r\n                    className=\"p-6 rounded-full bg-white text-indigo-600 shadow-xl border border-indigo-100 dark:bg-black dark:text-[#1d9bf0] dark:border-[#1d9bf0]/50 hover:scale-105 active:scale-95 transition-all\"\r\n                >\r\n                    {isRunning ? (\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                            <path d=\"M6 4h4v16H6V4zm8 0h4v16h-4V4z\" />\r\n                        </svg>\r\n                    ) : (\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"ml-1\">\r\n                            <path d=\"M8 5v14l11-7z\" />\r\n                        </svg>\r\n                    )}\r\n                </button>\r\n\r\n                <button\r\n                    onClick={() => onComplete(duration - timeLeft)}\r\n                    className=\"p-4 rounded-full bg-emerald-50 text-emerald-500 border border-emerald-100 dark:bg-black dark:text-[#00ba7c] dark:border-[#003a27] hover:bg-emerald-500 hover:text-white dark:hover:bg-[#00ba7c] dark:hover:text-white transition-all\"\r\n                    title=\"ã‚¿ã‚¹ã‚¯å®Œäº†ï¼\"\r\n                >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                        <path d=\"M20 6 9 17l-5-5\" />\r\n                    </svg>\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"text-center\">\r\n                <button\r\n                    onClick={resetTimer}\r\n                    className=\"text-xs text-slate-400 hover:text-slate-600 underline\"\r\n                >\r\n                    ã‚¿ã‚¤ãƒãƒ¼ã‚’ãƒªã‚»ãƒƒãƒˆ\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAWO,SAAS,WAAW,EAAE,cAAc,EAAE,UAAU,EAAE,MAAM,EAAS;;IACpE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC,iBAAiB;IAC1D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC,iBAAiB;IAE1D,IAAA,0KAAS;gCAAC;YACN,IAAI;YACJ,IAAI,aAAa,WAAW,GAAG;gBAC3B,WAAW;4CAAY;wBACnB;oDAAY,CAAC,OAAS,OAAO;;oBACjC;2CAAG;YACP,OAAO,IAAI,aAAa,GAAG;gBACvB,aAAa;YACb,qFAAqF;YACrF,6CAA6C;YACjD;YACA;wCAAO,IAAM,cAAc;;QAC/B;+BAAG;QAAC;QAAW;KAAS;IAExB,MAAM,WAAW,KAAK,GAAG,CAAC,GAAG,WAAW,WAAW,aAAa;IAChE,MAAM,UAAU,KAAK,KAAK,CAAC,WAAW;IACtC,MAAM,UAAU,WAAW;IAC3B,MAAM,MAAM,CAAC,IAAc,OAAO,GAAG,QAAQ,CAAC,GAAG;IAEjD,MAAM,cAAc,IAAM,aAAa,CAAC;IACxC,MAAM,aAAa;QACf,aAAa;QACb,YAAY;IAChB;IAEA,0BAA0B;IAC1B,MAAM,SAAS;IACf,MAAM,SAAS;IACf,MAAM,mBAAmB,SAAS,SAAS;IAC3C,MAAM,gBAAgB,mBAAmB,IAAI,KAAK,EAAE;IACpD,MAAM,mBAAmB,gBAAgB,WAAW;IAEpD,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCAEX,6LAAC;wBAAI,QAAQ,SAAS;wBAAG,OAAO,SAAS;wBAAG,WAAU;;0CAClD,6LAAC;gCACG,WAAU;gCACV,aAAa;gCACb,MAAK;gCACL,GAAG;gCACH,IAAI;gCACJ,IAAI;;;;;;0CAER,6LAAC,uMAAM,CAAC,MAAM;gCACV,WAAU;gCACV,aAAa;gCACb,MAAK;gCACL,GAAG;gCACH,IAAI;gCACJ,IAAI;gCACJ,iBAAiB,gBAAgB,MAAM;gCACvC,kBAAkB;gCAClB,eAAc;gCACd,SAAS;oCAAE,kBAAkB;gCAAc;gCAC3C,SAAS;oCAAE;gCAAiB;gCAC5B,YAAY;oCAAE,UAAU;oCAAG,MAAM;gCAAS;;;;;;;;;;;;kCAKlD,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;oCACV,IAAI;oCAAS;oCAAE,IAAI;;;;;;;0CAExB,6LAAC;gCAAE,WAAU;0CACR,YAAY,gBAAgB;;;;;;;;;;;;;;;;;;0BAMzC,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBACG,SAAS;wBACT,WAAU;wBACV,OAAM;kCAEN,cAAA,6LAAC;4BAAI,OAAM;4BAA6B,OAAM;4BAAK,QAAO;4BAAK,SAAQ;4BAAY,MAAK;4BAAO,QAAO;4BAAe,aAAY;4BAAI,eAAc;4BAAQ,gBAAe;;8CACtK,6LAAC;oCAAK,GAAE;;;;;;8CAAe,6LAAC;oCAAK,GAAE;;;;;;;;;;;;;;;;;kCAIvC,6LAAC;wBACG,SAAS;wBACT,WAAU;kCAET,0BACG,6LAAC;4BAAI,OAAM;4BAA6B,OAAM;4BAAK,QAAO;4BAAK,SAAQ;4BAAY,MAAK;sCACpF,cAAA,6LAAC;gCAAK,GAAE;;;;;;;;;;iDAGZ,6LAAC;4BAAI,OAAM;4BAA6B,OAAM;4BAAK,QAAO;4BAAK,SAAQ;4BAAY,MAAK;4BAAe,WAAU;sCAC7G,cAAA,6LAAC;gCAAK,GAAE;;;;;;;;;;;;;;;;kCAKpB,6LAAC;wBACG,SAAS,IAAM,WAAW,WAAW;wBACrC,WAAU;wBACV,OAAM;kCAEN,cAAA,6LAAC;4BAAI,OAAM;4BAA6B,OAAM;4BAAK,QAAO;4BAAK,SAAQ;4BAAY,MAAK;4BAAO,QAAO;4BAAe,aAAY;4BAAI,eAAc;4BAAQ,gBAAe;sCACtK,cAAA,6LAAC;gCAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;0BAKpB,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBACG,SAAS;oBACT,WAAU;8BACb;;;;;;;;;;;;;;;;;AAMjB;GA7HgB;KAAA"}},
    {"offset": {"line": 1031, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hinat/projects/weekly-report-app/src/app/focus/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState, Suspense } from \"react\";\r\nimport { useSearchParams, useRouter } from \"next/navigation\";\r\nimport { loadTasks, saveStoredTags, TASKS_KEY_PREFIX, type Task } from \"@/lib/reportUtils\"; // Assuming we need save logic imports that might not be exported yet, check utils\r\nimport { FocusTimer } from \"@/components/focus/FocusTimer\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\n\r\n// We need a way to save specific report's tasks back to storage from here.\r\n// Since loadTasks is readonly, we'll implement a simple save helper here or assume we can write to localStorage directly using the same key pattern.\r\n\r\nfunction FocusPageContent() {\r\n    const searchParams = useSearchParams();\r\n    const router = useRouter();\r\n\r\n    const reportId = searchParams.get(\"reportId\");\r\n    const taskId = searchParams.get(\"taskId\");\r\n\r\n    const [task, setTask] = useState<Task | null>(null);\r\n    const [loaded, setLoaded] = useState(false);\r\n    const [allTasks, setAllTasks] = useState<Task[]>([]); // Keep all to save back\r\n    const [isCompleted, setIsCompleted] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!reportId || !taskId) {\r\n            setLoaded(true);\r\n            return;\r\n        }\r\n\r\n        const now = Date.now();\r\n        const tasks = loadTasks(reportId, now);\r\n        setAllTasks(tasks);\r\n\r\n        const found = tasks.find((t) => t.id === taskId);\r\n        if (found) {\r\n            setTask(found);\r\n        }\r\n        setLoaded(true);\r\n    }, [reportId, taskId]);\r\n\r\n    const handleComplete = (elapsedSeconds: number) => {\r\n        setIsCompleted(true);\r\n\r\n        // Save status change\r\n        if (reportId && taskId) {\r\n            const nextTasks = allTasks.map(t => {\r\n                if (t.id === taskId) {\r\n                    return {\r\n                        ...t,\r\n                        status: \"done\" as const,\r\n                        // Only add what was actually spent in this session\r\n                        actualSeconds: (t.actualSeconds || 0) + elapsedSeconds\r\n                    };\r\n                }\r\n                return t;\r\n            });\r\n\r\n            // Persist\r\n            if (typeof window !== \"undefined\") {\r\n                window.localStorage.setItem(`${TASKS_KEY_PREFIX}${reportId}`, JSON.stringify(nextTasks));\r\n            }\r\n        }\r\n\r\n        // Delay route back to show celebration\r\n        setTimeout(() => {\r\n            router.back();\r\n        }, 2000);\r\n    };\r\n\r\n    const handleExit = () => {\r\n        router.back();\r\n    };\r\n\r\n    if (!loaded) return null;\r\n\r\n    if (!task) {\r\n        return (\r\n            <div className=\"min-h-screen bg-slate-950 flex items-center justify-center text-slate-400\">\r\n                <p>ã‚¿ã‚¹ã‚¯ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</p>\r\n                <button onClick={handleExit} className=\"ml-4 underline hover:text-white\">æˆ»ã‚‹</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4 transition-colors duration-500\">\r\n            <div className=\"w-full max-w-md mx-auto text-center space-y-12\">\r\n                <motion.div\r\n                    initial={{ opacity: 0, y: 10 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    transition={{ delay: 0.2 }}\r\n                >\r\n                    <h1 className=\"text-xl font-medium text-slate-700 tracking-wide\">\r\n                        {task.title}\r\n                    </h1>\r\n                </motion.div>\r\n\r\n                <motion.div\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    transition={{ delay: 0.4 }}\r\n                >\r\n                    <FocusTimer\r\n                        initialMinutes={25}\r\n                        onComplete={handleComplete}\r\n                        onExit={handleExit}\r\n                    />\r\n                </motion.div>\r\n            </div>\r\n\r\n            {/* Celebration Overlay */}\r\n            <AnimatePresence>\r\n                {isCompleted && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"absolute inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm\"\r\n                    >\r\n                        <motion.div\r\n                            initial={{ scale: 0.5, opacity: 0 }}\r\n                            animate={{ scale: 1.2, opacity: 1 }}\r\n                            className=\"text-4xl md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 animate-pulse text-center\"\r\n                        >\r\n                            COMPLETED! ğŸ‰\r\n                            <p className=\"text-slate-500 text-lg mt-4 font-medium tracking-widest\">GREAT JOB</p>\r\n                        </motion.div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default function FocusPage() {\r\n    return (\r\n        <Suspense fallback={<div className=\"min-h-screen bg-slate-50\" />}>\r\n            <FocusPageContent />\r\n        </Suspense>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}