{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hinat/projects/weekly-report-app/src/app/reports/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport Link from \"next/link\";\r\n\r\ntype Report = {\r\n  id: string;\r\n  title: string; // „ÄåM/DÔΩûM/D„ÅÆÈÄ±Â†±„Äç\r\n  description: string; // Ë™¨Êòé\r\n  createdAt: string; // ISOÊñáÂ≠óÂàó\r\n  weekStart: string; // „Åù„ÅÆÈÄ±„ÅÆÈñãÂßãÊó•ÔºàISOÔºâ\r\n  weekEnd: string; // „Åù„ÅÆÈÄ±„ÅÆÁµÇ‰∫ÜÊó•ÔºàISOÔºâ\r\n};\r\n\r\ntype TaskStatus = \"not_decided\" | \"todo\" | \"doing\" | \"done\";\r\n\r\ntype Task = {\r\n  id: string;\r\n  title: string;\r\n  status: TaskStatus;\r\n  tag: string | null;\r\n\r\n  estimatedMinutes: number | null;\r\n  actualSeconds: number;\r\n\r\n  isToday: boolean;\r\n\r\n  // ‰∏ÄË¶ß„Éö„Éº„Ç∏ÂÅ¥„Åß ‚Äú„ÇÇ„ÅóÂÖ•„Å£„Å¶„ÅÑ„Åü„Çâ‚Äù ËÄÉÊÖÆ„Åô„ÇãÔºàË©≥Á¥∞„Éö„Éº„Ç∏„ÅÆ‰øùÂ≠òÂΩ¢Âºè„Å´Âêà„Çè„Åõ„ÇãÔºâ\r\n  isRunning?: boolean;\r\n  startedAt?: number | null;\r\n};\r\n\r\ntype ReportStats = {\r\n  totalCount: number;\r\n  doneCount: number;\r\n  todayRemaining: number;\r\n\r\n  totalActualSeconds: number;\r\n\r\n  estimatedCount: number;\r\n  avgDiffMinutes: number | null;\r\n\r\n  topTags: { tag: string; seconds: number }[];\r\n};\r\n\r\nconst STORAGE_KEY = \"weekly-report-list\";\r\nconst TASKS_KEY_PREFIX = \"weekly-report-tasks-\";\r\n\r\nconst DEFAULT_TAG_LABEL = \"(Êú™Ë®≠ÂÆö)\";\r\n\r\n/** ÈÄ±„ÅÆÈñãÂßã„ÉªÁµÇ‰∫ÜÔºàÊúàÊõú„ÅØ„Åò„Åæ„Çä„ÄÅÊó•Êõú„Åä„Çè„ÇäÔºâ */\r\nfunction getWeekRange(date: Date): { start: Date; end: Date } {\r\n  const d = new Date(date);\r\n  d.setHours(0, 0, 0, 0);\r\n\r\n  const day = d.getDay(); // 0:Êó•, 1:Êúà, ... 6:Âúü\r\n  const diffFromMonday = (day + 6) % 7; // ÊúàÊõú„Çí0„Å´„Åô„Çã\r\n\r\n  const start = new Date(d);\r\n  start.setDate(d.getDate() - diffFromMonday);\r\n  start.setHours(0, 0, 0, 0);\r\n\r\n  const end = new Date(start);\r\n  end.setDate(start.getDate() + 6);\r\n  end.setHours(23, 59, 59, 999);\r\n\r\n  return { start, end };\r\n}\r\n\r\n/** „Çø„Ç§„Éà„É´Áî®Ôºö„ÄåM/DÔΩûM/D„ÅÆÈÄ±Â†±„Äç */\r\nfunction formatWeekRangeTitle(startIso: string, endIso: string): string {\r\n  const s = new Date(startIso);\r\n  const e = new Date(endIso);\r\n  if (Number.isNaN(s.getTime()) || Number.isNaN(e.getTime())) return \"ÈÄ±Â†±\";\r\n\r\n  const sStr = s.toLocaleDateString(\"ja-JP\", { month: \"numeric\", day: \"numeric\" });\r\n  const eStr = e.toLocaleDateString(\"ja-JP\", { month: \"numeric\", day: \"numeric\" });\r\n  return `${sStr}ÔΩû${eStr}„ÅÆÈÄ±Â†±`;\r\n}\r\n\r\n/** ‰ΩúÊàêÊó•„ÅÆË°®Á§∫Áî®Ôºà‰æã: 2025/12/13Ôºâ */\r\nfunction formatDate(iso: string): string {\r\n  const d = new Date(iso);\r\n  if (Number.isNaN(d.getTime())) return \"\";\r\n  return d.toLocaleDateString(\"ja-JP\", { year: \"numeric\", month: \"2-digit\", day: \"2-digit\" });\r\n}\r\n\r\n/** ‰∏ÄË¶ß„Çí„ÄåÊñ∞„Åó„ÅÑÈ†Ü„Äç„Å´‰∏¶„ÅπÊõø„Åà„ÇãÔºàcreatedAt ‚Üí id „ÅÆÈ†ÜÔºâ */\r\nfunction sortReportsDesc(reports: Report[]): Report[] {\r\n  return [...reports].sort((a, b) => {\r\n    const ta = new Date(a.createdAt).getTime();\r\n    const tb = new Date(b.createdAt).getTime();\r\n    if (!Number.isNaN(ta) && !Number.isNaN(tb) && ta !== tb) return tb - ta;\r\n\r\n    const na = Number(a.id);\r\n    const nb = Number(b.id);\r\n    if (!Number.isNaN(na) && !Number.isNaN(nb)) return nb - na;\r\n\r\n    return 0;\r\n  });\r\n}\r\n\r\nfunction safeTagLabel(tag: unknown): string {\r\n  if (typeof tag !== \"string\") return DEFAULT_TAG_LABEL;\r\n  const t = tag.trim();\r\n  return t ? t : DEFAULT_TAG_LABEL;\r\n}\r\n\r\nfunction formatHMFromSecondsSimple(totalSeconds: number) {\r\n  const totalMinutes = Math.floor(totalSeconds / 60);\r\n  const h = Math.floor(totalMinutes / 60);\r\n  const m = totalMinutes % 60;\r\n  if (h <= 0) return `${m}ÂàÜ`;\r\n  if (m === 0) return `${h}ÊôÇÈñì`;\r\n  return `${h}ÊôÇÈñì${m}ÂàÜ`;\r\n}\r\n\r\nfunction clamp(n: number, min: number, max: number) {\r\n  return Math.max(min, Math.min(max, n));\r\n}\r\n\r\n/** „Çø„Çπ„ÇØÈÖçÂàó„ÇíÂÆâÂÖ®„Å´Ë™≠„ÇÄÔºàÂ£ä„Çå„Å¶„Å¶„ÇÇËêΩ„Å°„Å™„ÅÑÔºâ */\r\nfunction loadTasks(reportId: string, nowMs: number): Task[] {\r\n  if (typeof window === \"undefined\") return [];\r\n\r\n  const raw = window.localStorage.getItem(`${TASKS_KEY_PREFIX}${reportId}`);\r\n  if (!raw) return [];\r\n\r\n  try {\r\n    const parsed = JSON.parse(raw);\r\n    if (!Array.isArray(parsed)) return [];\r\n\r\n    return parsed.map((t: any) => {\r\n      const baseActual = typeof t?.actualSeconds === \"number\" ? t.actualSeconds : 0;\r\n      const isRunning = !!t?.isRunning;\r\n      const startedAt = typeof t?.startedAt === \"number\" ? t.startedAt : null;\r\n\r\n      // ‰∏ÄË¶ß„Éö„Éº„Ç∏„Åß„ÅØ„Äå„Åì„ÅÆÁû¨Èñì„ÅÆÁµåÈÅéÂàÜ„Äç„ÇíÂä†ÁÆó„Åó„Å¶Ë°®Á§∫„Å†„ÅëÊõ¥Êñ∞Ôºà„É™„Ç¢„É´„Çø„Ç§„É†Êõ¥Êñ∞„ÅØ„Åó„Å™„ÅÑÔºâ\r\n      const extra =\r\n        isRunning && startedAt ? Math.max(0, Math.floor((nowMs - startedAt) / 1000)) : 0;\r\n\r\n      const status: TaskStatus =\r\n        t?.status === \"not_decided\" || t?.status === \"todo\" || t?.status === \"doing\" || t?.status === \"done\"\r\n          ? t.status\r\n          : \"todo\";\r\n\r\n      return {\r\n        id: typeof t?.id === \"string\" ? t.id : crypto.randomUUID(),\r\n        title: typeof t?.title === \"string\" ? t.title : \"\",\r\n        status,\r\n        tag: typeof t?.tag === \"string\" ? t.tag : null,\r\n\r\n        estimatedMinutes:\r\n          typeof t?.estimatedMinutes === \"number\" && t.estimatedMinutes >= 0 ? Math.floor(t.estimatedMinutes) : null,\r\n\r\n        actualSeconds: baseActual + extra,\r\n        isToday: typeof t?.isToday === \"boolean\" ? t.isToday : false,\r\n\r\n        isRunning,\r\n        startedAt,\r\n      };\r\n    });\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction buildStats(tasks: Task[]): ReportStats {\r\n  const totalCount = tasks.length;\r\n  const doneCount = tasks.filter((t) => t.status === \"done\").length;\r\n  const todayRemaining = tasks.filter((t) => t.isToday && t.status !== \"done\").length;\r\n\r\n  const totalActualSeconds = tasks.reduce((sum, t) => sum + (t.actualSeconds ?? 0), 0);\r\n\r\n  // Ë¶ãÁ©çÁ≤æÂ∫¶ÔºàÂπ≥ÂùáÂ∑ÆÂàÜ = ÂÆüÁ∏æ(ÂàÜ) - Ë¶ãÁ©ç(ÂàÜ)Ôºâ\r\n  const withEst = tasks.filter((t) => t.estimatedMinutes != null);\r\n  const estimatedCount = withEst.length;\r\n\r\n  let avgDiffMinutes: number | null = null;\r\n  if (estimatedCount > 0) {\r\n    const diffs = withEst.map((t) => {\r\n      const actualMin = Math.floor((t.actualSeconds ?? 0) / 60);\r\n      const estMin = t.estimatedMinutes ?? 0;\r\n      return actualMin - estMin;\r\n    });\r\n    avgDiffMinutes = diffs.reduce((a, b) => a + b, 0) / diffs.length;\r\n  }\r\n\r\n  // „Çø„Ç∞Âà•Ôºà‰∏ä‰Ωç3Ôºâ\r\n  const map = new Map<string, number>();\r\n  for (const t of tasks) {\r\n    const key = safeTagLabel(t.tag);\r\n    map.set(key, (map.get(key) ?? 0) + (t.actualSeconds ?? 0));\r\n  }\r\n\r\n  const topTags = Array.from(map.entries())\r\n    .map(([tag, seconds]) => ({ tag, seconds }))\r\n    .filter((x) => x.seconds > 0)\r\n    .sort((a, b) => b.seconds - a.seconds)\r\n    .slice(0, 3);\r\n\r\n  return {\r\n    totalCount,\r\n    doneCount,\r\n    todayRemaining,\r\n    totalActualSeconds,\r\n    estimatedCount,\r\n    avgDiffMinutes,\r\n    topTags,\r\n  };\r\n}\r\n\r\nfunction findThisWeekReport(reports: Report[]): Report | null {\r\n  const nowMs = Date.now();\r\n\r\n  const candidates = reports.filter((r) => {\r\n    const s = new Date(r.weekStart).getTime();\r\n    const e = new Date(r.weekEnd).getTime();\r\n    if (Number.isNaN(s) || Number.isNaN(e)) return false;\r\n    return s <= nowMs && nowMs <= e;\r\n  });\r\n\r\n  if (candidates.length === 0) return null;\r\n\r\n  // createdAt„ÅåÊñ∞„Åó„ÅÑ„ÇÇ„ÅÆ„ÇíÂÑ™ÂÖà\r\n  return [...candidates].sort((a, b) => {\r\n    const ta = new Date(a.createdAt).getTime();\r\n    const tb = new Date(b.createdAt).getTime();\r\n    return (Number.isNaN(tb) ? 0 : tb) - (Number.isNaN(ta) ? 0 : ta);\r\n  })[0];\r\n}\r\n\r\nfunction formatAvgDiff(avg: number | null): { label: string; className: string } {\r\n  if (avg == null) return { label: \"‚Äî\", className: \"text-slate-500\" };\r\n  const rounded = Math.round(avg * 10) / 10;\r\n  if (rounded === 0) return { label: \"¬±0ÂàÜ\", className: \"text-slate-700\" };\r\n  if (rounded > 0) return { label: `+${rounded}ÂàÜ`, className: \"text-red-600\" };\r\n  return { label: `${rounded}ÂàÜ`, className: \"text-emerald-600\" };\r\n}\r\n\r\nexport default function ReportsPage() {\r\n  const [reports, setReports] = useState<Report[]>([]);\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  // ÈÄ±„Åî„Å®„ÅÆÈõÜË®à„Ç≠„É£„ÉÉ„Ç∑„É•\r\n  const [statsById, setStatsById] = useState<Record<string, ReportStats>>({});\r\n\r\n  // ÂàùÂõûË™≠„ÅøËæº„ÅøÔºölocalStorage „Åã„Çâ‰∏ÄË¶ß„ÇíË™≠„ÇÄ\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") return;\r\n\r\n    const raw = window.localStorage.getItem(STORAGE_KEY);\r\n\r\n    if (!raw) {\r\n      // ÂàùÊúü„Çµ„É≥„Éó„É´ÔºàÂÖ®ÈÉ®„Äå‰ªäÈÄ±„ÄçÔºâ\r\n      const now = new Date();\r\n      const { start, end } = getWeekRange(now);\r\n      const weekStartIso = start.toISOString();\r\n      const weekEndIso = end.toISOString();\r\n      const title = formatWeekRangeTitle(weekStartIso, weekEndIso);\r\n      const createdAt = now.toISOString();\r\n\r\n      const initial: Report[] = [\r\n        {\r\n          id: \"1\",\r\n          title,\r\n          description: \"„Åì„ÅÆÈÄ±„Å´Âèñ„ÇäÁµÑ„Çì„Å†„Çø„Çπ„ÇØ„ÇÑÂ≠¶„Å≥„ÇíÊï¥ÁêÜ„Åó„Åæ„Åô„ÄÇÔºà„Çµ„É≥„Éó„É´Ôºâ\",\r\n          createdAt,\r\n          weekStart: weekStartIso,\r\n          weekEnd: weekEndIso,\r\n        },\r\n        {\r\n          id: \"2\",\r\n          title,\r\n          description: \"Âºï„ÅçÁ∂ö„Åç„ÄÅ‰ªäÈÄ±„ÅÆ„Ç¢„Ç¶„Éà„Éó„ÉÉ„Éà„ÇíË®òÈå≤„Åó„Åæ„Åô„ÄÇÔºà„Çµ„É≥„Éó„É´Ôºâ\",\r\n          createdAt,\r\n          weekStart: weekStartIso,\r\n          weekEnd: weekEndIso,\r\n        },\r\n        {\r\n          id: \"3\",\r\n          title,\r\n          description: \"„Çà„ÇäÂÖ∑‰ΩìÁöÑ„Å™ÊàêÊûú„ÇÑÂèçÁúÅÁÇπ„ÇíÊõ∏„ÅçÂá∫„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇÔºà„Çµ„É≥„Éó„É´Ôºâ\",\r\n          createdAt,\r\n          weekStart: weekStartIso,\r\n          weekEnd: weekEndIso,\r\n        },\r\n      ];\r\n\r\n      setReports(sortReportsDesc(initial));\r\n      setLoaded(true);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const parsed = JSON.parse(raw) as any[];\r\n      if (Array.isArray(parsed)) {\r\n        const normalized: Report[] = parsed.map((r, index) => {\r\n          const id = String(r.id ?? index + 1);\r\n\r\n          const createdAt =\r\n            typeof r.createdAt === \"string\" && r.createdAt ? r.createdAt : new Date().toISOString();\r\n\r\n          const createdDate = new Date(createdAt);\r\n          const baseDate = Number.isNaN(createdDate.getTime()) ? new Date() : createdDate;\r\n\r\n          let weekStartIso: string;\r\n          let weekEndIso: string;\r\n\r\n          if (typeof r.weekStart === \"string\" && typeof r.weekEnd === \"string\") {\r\n            weekStartIso = r.weekStart;\r\n            weekEndIso = r.weekEnd;\r\n          } else {\r\n            const { start, end } = getWeekRange(baseDate);\r\n            weekStartIso = start.toISOString();\r\n            weekEndIso = end.toISOString();\r\n          }\r\n\r\n          const title = formatWeekRangeTitle(weekStartIso, weekEndIso);\r\n\r\n          const description =\r\n            typeof r.description === \"string\" && r.description.trim() !== \"\"\r\n              ? r.description\r\n              : \"„Åì„ÅÆÈÄ±„ÅÆ„Çø„Çπ„ÇØ„ÇÑÊåØ„ÇäËøî„Çä„ÇíË®òÈå≤„Åó„Åæ„Åô„ÄÇ\";\r\n\r\n          return {\r\n            id,\r\n            title,\r\n            description,\r\n            createdAt,\r\n            weekStart: weekStartIso,\r\n            weekEnd: weekEndIso,\r\n          };\r\n        });\r\n\r\n        setReports(sortReportsDesc(normalized));\r\n      } else {\r\n        setReports([]);\r\n      }\r\n    } catch (e) {\r\n      console.error(\"failed to parse reports from localStorage\", e);\r\n      setReports([]);\r\n    }\r\n\r\n    setLoaded(true);\r\n  }, []);\r\n\r\n  // ‰∏ÄË¶ß„ÅåÂ§â„Çè„Çã„Åü„Å≥„Å´‰øùÂ≠ò\r\n  useEffect(() => {\r\n    if (!loaded) return;\r\n    if (typeof window === \"undefined\") return;\r\n    window.localStorage.setItem(STORAGE_KEY, JSON.stringify(reports));\r\n  }, [reports, loaded]);\r\n\r\n  // ÈõÜË®à„Çí‰Ωú„ÇãÔºàÊàª„Å£„Å¶„Åç„Åü„Å®„Åç„ÇÇÊúÄÊñ∞Âåñ„Åô„Çã„Åü„ÇÅ focus „ÅßÂÜçË®àÁÆóÔºâ\r\n  const refreshStats = useCallback(() => {\r\n    if (typeof window === \"undefined\") return;\r\n    const nowMs = Date.now();\r\n\r\n    const next: Record<string, ReportStats> = {};\r\n    for (const r of reports) {\r\n      const tasks = loadTasks(r.id, nowMs);\r\n      next[r.id] = buildStats(tasks);\r\n    }\r\n    setStatsById(next);\r\n  }, [reports]);\r\n\r\n  useEffect(() => {\r\n    if (!loaded) return;\r\n\r\n    refreshStats();\r\n\r\n    const onFocus = () => refreshStats();\r\n    window.addEventListener(\"focus\", onFocus);\r\n    return () => window.removeEventListener(\"focus\", onFocus);\r\n  }, [loaded, refreshStats]);\r\n\r\n  // Êñ∞„Åó„ÅÑÈÄ±„ÇíËøΩÂä†\r\n  const handleAddReport = () => {\r\n    setReports((prev) => {\r\n      const numericIds = prev.map((r) => Number(r.id)).filter((n) => !Number.isNaN(n));\r\n      const nextIdNum = numericIds.length > 0 ? Math.max(...numericIds) + 1 : 1;\r\n      const nextId = String(nextIdNum);\r\n\r\n      const now = new Date();\r\n      const { start, end } = getWeekRange(now);\r\n      const weekStartIso = start.toISOString();\r\n      const weekEndIso = end.toISOString();\r\n\r\n      const newReport: Report = {\r\n        id: nextId,\r\n        title: formatWeekRangeTitle(weekStartIso, weekEndIso),\r\n        description: \"Êñ∞„Åó„Åè‰ΩúÊàê„Åó„ÅüÈÄ±„ÅÆ„Çø„Çπ„ÇØ„ÇÑÊåØ„ÇäËøî„Çä„ÇíË®òÈå≤„Åß„Åç„Åæ„Åô„ÄÇ\",\r\n        createdAt: now.toISOString(),\r\n        weekStart: weekStartIso,\r\n        weekEnd: weekEndIso,\r\n      };\r\n\r\n      const next = [newReport, ...prev];\r\n      return sortReportsDesc(next);\r\n    });\r\n  };\r\n\r\n  // ÈÄ±Â†±ÂâäÈô§ÔºàÁ¢∫Ë™ç„ÉÄ„Ç§„Ç¢„É≠„Ç∞‰ªò„ÅçÔºâ\r\n  const handleDelete = (reportId: string) => {\r\n    if (typeof window !== \"undefined\") {\r\n      const ok = window.confirm(\r\n        \"Êú¨ÂΩì„Å´„Åì„ÅÆ„É¨„Éù„Éº„Éà„ÇíÂâäÈô§„Åó„Å¶„Çà„Çç„Åó„ÅÑ„Åß„Åô„ÅãÔºü\\nÔºà„Åì„ÅÆ„É¨„Éù„Éº„Éà„Å´Á¥ê„Å•„Åè„Çø„Çπ„ÇØ„Å®„É°„É¢„ÇÇÂâäÈô§„Åï„Çå„Åæ„ÅôÔºâ\"\r\n      );\r\n      if (!ok) return;\r\n\r\n      // „Åù„ÅÆÈÄ±Â†±„ÅÆ„Çø„Çπ„ÇØÔºÜ„É°„É¢„ÇÇÂâäÈô§\r\n      window.localStorage.removeItem(`weekly-report-tasks-${reportId}`);\r\n      window.localStorage.removeItem(`weekly-report-note-${reportId}`);\r\n    }\r\n\r\n    setReports((prev) => prev.filter((r) => r.id !== reportId));\r\n  };\r\n\r\n  const thisWeekReport = useMemo(() => findThisWeekReport(reports), [reports]);\r\n  const thisWeekStats = thisWeekReport ? statsById[thisWeekReport.id] : null;\r\n\r\n  const last4 = useMemo(() => sortReportsDesc(reports).slice(0, 4), [reports]);\r\n\r\n  const maxSecLast4 = useMemo(() => {\r\n    const secs = last4.map((r) => statsById[r.id]?.totalActualSeconds ?? 0);\r\n    return Math.max(1, ...secs);\r\n  }, [last4, statsById]);\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-slate-50\">\r\n      <div className=\"mx-auto max-w-6xl py-6 px-4 md:px-8 space-y-6\">\r\n        {/* „Éò„ÉÉ„ÉÄ„Éº */}\r\n        <header className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n          <div className=\"space-y-1.5\">\r\n            <h1 className=\"text-xl md:text-3xl font-bold\">ÈÄ±Â†±‰∏ÄË¶ß</h1>\r\n            <p className=\"text-xs md:text-sm text-slate-600 max-w-2xl\">\r\n              ÈÄ±„Åî„Å®„ÅÆ„Çø„Çπ„ÇØ„ÇÑÊåØ„ÇäËøî„Çä„Çí„Åæ„Å®„ÇÅ„Åü„Éö„Éº„Ç∏„Åß„Åô„ÄÇÂêÑË°åÔºà„É¨„Éù„Éº„ÉàÔºâ„Çí„ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Å®Ë©≥Á¥∞„Å´ÁßªÂãï„Åó„Åæ„Åô„ÄÇ\r\n            </p>\r\n            {!loaded && <p className=\"text-[11px] text-slate-500\">Ë™≠„ÅøËæº„Åø‰∏≠...</p>}\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-3\">\r\n            <p className=\"text-[11px] md:text-xs text-slate-500\">\r\n              „É¨„Éù„Éº„ÉàÊï∞: <span className=\"font-semibold text-slate-800\">{reports.length}</span>\r\n            </p>\r\n\r\n            <Link\r\n              href=\"/tags\"\r\n              className=\"inline-flex items-center gap-1.5 rounded-lg px-4 py-2 text-xs md:text-sm font-medium border border-slate-300 bg-white text-slate-800 hover:bg-slate-100\"\r\n            >\r\n              <span aria-hidden>üè∑Ô∏è</span>\r\n              „Çø„Ç∞ÁÆ°ÁêÜ\r\n            </Link>\r\n\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleAddReport}\r\n              className=\"inline-flex items-center gap-1 rounded-lg border border-slate-800 bg-slate-900 px-4 py-2 text-xs md:text-sm font-medium text-white hover:bg-slate-800 transition\"\r\n            >\r\n              Ôºã Êñ∞„Åó„ÅÑÈÄ±„ÇíËøΩÂä†\r\n            </button>\r\n          </div>\r\n        </header>\r\n\r\n        {/* „Éõ„Éº„É†Ôºà‰ªäÈÄ±„Çµ„Éû„É™„ÉºÔºâ */}\r\n        <section className=\"space-y-2\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h2 className=\"text-sm md:text-base font-semibold text-slate-800\">„Éõ„Éº„É†</h2>\r\n            <button\r\n              type=\"button\"\r\n              onClick={refreshStats}\r\n              className=\"text-[11px] md:text-xs text-slate-600 hover:text-slate-900 hover:underline\"\r\n            >\r\n              „ÅÑ„Åæ„ÅÆÈõÜË®à„Å´Êõ¥Êñ∞\r\n            </button>\r\n          </div>\r\n\r\n          {thisWeekReport && thisWeekStats ? (\r\n            <div className=\"grid gap-3 md:grid-cols-4\">\r\n              <Link\r\n                href={`/reports/${thisWeekReport.id}`}\r\n                className=\"rounded-xl border bg-white p-4 shadow-sm hover:bg-slate-50 transition\"\r\n              >\r\n                <p className=\"text-[11px] md:text-xs text-slate-500\">‰ªäÈÄ±</p>\r\n                <p className=\"mt-1 text-sm md:text-base font-semibold text-slate-900\">\r\n                  {thisWeekReport.title}\r\n                </p>\r\n                <p className=\"mt-1 text-[10px] md:text-[11px] text-slate-500\">\r\n                  ‰ΩúÊàêÊó•: {formatDate(thisWeekReport.createdAt)}\r\n                </p>\r\n                <p className=\"mt-2 text-[11px] md:text-xs text-slate-600 inline-flex items-center gap-1\">\r\n                  Èñã„Åè <span aria-hidden>‚Üí</span>\r\n                </p>\r\n              </Link>\r\n\r\n              <div className=\"rounded-xl border bg-white p-4 shadow-sm\">\r\n                <p className=\"text-[11px] md:text-xs text-slate-500\">ÂêàË®àÂÆüÁ∏æ</p>\r\n                <p className=\"mt-1 text-lg md:text-xl font-semibold text-slate-900\">\r\n                  {formatHMFromSecondsSimple(thisWeekStats.totalActualSeconds)}\r\n                </p>\r\n                <p className=\"mt-1 text-[10px] md:text-[11px] text-slate-500\">Ôºà„Çø„Çπ„ÇØÂÖ®‰ΩìÔºâ</p>\r\n              </div>\r\n\r\n              <div className=\"rounded-xl border bg-white p-4 shadow-sm\">\r\n                <p className=\"text-[11px] md:text-xs text-slate-500\">ÂÆå‰∫ÜÁéá</p>\r\n                <p className=\"mt-1 text-lg md:text-xl font-semibold text-slate-900\">\r\n                  {thisWeekStats.totalCount === 0\r\n                    ? \"‚Äî\"\r\n                    : `${Math.round((thisWeekStats.doneCount / thisWeekStats.totalCount) * 100)}%`}\r\n                </p>\r\n                <p className=\"mt-1 text-[10px] md:text-[11px] text-slate-500\">\r\n                  ÂÆå‰∫Ü {thisWeekStats.doneCount} / ÂÖ® {thisWeekStats.totalCount}\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"rounded-xl border bg-white p-4 shadow-sm\">\r\n                <p className=\"text-[11px] md:text-xs text-slate-500\">Today ÊÆã„Çä</p>\r\n                <p className=\"mt-1 text-lg md:text-xl font-semibold text-slate-900\">\r\n                  {thisWeekStats.todayRemaining}‰ª∂\r\n                </p>\r\n                <p className=\"mt-1 text-[10px] md:text-[11px] text-slate-500\">\r\n                  „ÅÑ„Åæ„ÇÑ„Çã„Çø„Çπ„ÇØ„ÅÆÊú™ÂÆå‰∫Ü\r\n                </p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"rounded-xl border border-dashed border-slate-300 bg-white p-4 text-sm text-slate-600\">\r\n              ‰ªäÈÄ±„ÅÆ„É¨„Éù„Éº„Éà„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„ÄÇÂøÖË¶Å„Å™„Çâ„ÄåÊñ∞„Åó„ÅÑÈÄ±„ÇíËøΩÂä†„Äç„Åã„Çâ‰ΩúÊàê„Åß„Åç„Åæ„Åô„ÄÇ\r\n            </div>\r\n          )}\r\n        </section>\r\n\r\n        {/* Áõ¥Ëøë„Éà„É¨„É≥„ÉâÔºàÂêàË®àÂÆüÁ∏æÔºâ */}\r\n        <section className=\"rounded-xl border bg-white shadow-sm p-4 md:p-5 space-y-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h2 className=\"text-sm md:text-base font-semibold text-slate-800\">Áõ¥Ëøë„ÅÆÊé®ÁßªÔºàÂêàË®àÂÆüÁ∏æÔºâ</h2>\r\n            <p className=\"text-[10px] md:text-[11px] text-slate-500\">Áõ¥Ëøë4‰ª∂</p>\r\n          </div>\r\n\r\n          {last4.length === 0 ? (\r\n            <p className=\"text-sm text-slate-600\">„É¨„Éù„Éº„Éà„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ</p>\r\n          ) : (\r\n            <div className=\"grid gap-2 md:grid-cols-4\">\r\n              {last4.map((r) => {\r\n                const sec = statsById[r.id]?.totalActualSeconds ?? 0;\r\n                const h = clamp(Math.round((sec / maxSecLast4) * 80), 0, 80);\r\n\r\n                return (\r\n                  <Link\r\n                    key={r.id}\r\n                    href={`/reports/${r.id}`}\r\n                    className=\"block rounded-lg border border-slate-200 p-3 hover:bg-slate-50 transition\"\r\n                  >\r\n                    <p className=\"text-[11px] md:text-xs text-slate-600 truncate\">{r.title}</p>\r\n                    <div className=\"mt-2 h-20 flex items-end\">\r\n                      <div className=\"w-full rounded-md bg-slate-200\" style={{ height: `${h}px` }} />\r\n                    </div>\r\n                    <p className=\"mt-2 text-[11px] md:text-xs text-slate-700\">\r\n                      {formatHMFromSecondsSimple(sec)}\r\n                    </p>\r\n                    <p className=\"mt-1 text-[10px] text-slate-500 inline-flex items-center gap-1\">\r\n                      Èñã„Åè <span aria-hidden>‚Üí</span>\r\n                    </p>\r\n                  </Link>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </section>\r\n\r\n        {/* ‚úÖ „É¨„Éù„Éº„Éà‰∏ÄË¶ßÔºà1Ë°åË°®Á§∫Ôºâ */}\r\n        {reports.length === 0 ? (\r\n          <div className=\"rounded-xl border border-dashed border-slate-300 bg-white p-6 text-center space-y-2\">\r\n            <p className=\"text-sm text-slate-600\">ÈÄ±Â†±„Åå„Åæ„Å†„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ</p>\r\n            <p className=\"text-[11px] md:text-xs text-slate-500\">\r\n              „ÄåÊñ∞„Åó„ÅÑÈÄ±„ÇíËøΩÂä†„Äç„Éú„Çø„É≥„Åã„Çâ„ÄÅÊúÄÂàù„ÅÆ„É¨„Éù„Éº„Éà„Çí‰ΩúÊàê„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <section className=\"rounded-xl border bg-white shadow-sm\">\r\n            <div className=\"flex items-center justify-between px-4 md:px-5 py-3 border-b border-slate-100\">\r\n              <h2 className=\"text-sm md:text-base font-semibold text-slate-800\">„É¨„Éù„Éº„Éà‰∏ÄË¶ß</h2>\r\n              <p className=\"text-[10px] md:text-[11px] text-slate-500\">Ë°å„ÇØ„É™„ÉÉ„ÇØ„ÅßÈñã„Åè</p>\r\n            </div>\r\n\r\n            <ul className=\"divide-y divide-slate-100\">\r\n              {reports.map((report) => {\r\n                const st = statsById[report.id];\r\n                const avg = formatAvgDiff(st?.avgDiffMinutes ?? null);\r\n\r\n                const total = st?.totalCount ?? 0;\r\n                const done = st?.doneCount ?? 0;\r\n                const todayRem = st?.todayRemaining ?? 0;\r\n                const totalSec = st?.totalActualSeconds ?? 0;\r\n                const topTags = st?.topTags ?? [];\r\n\r\n                return (\r\n                  <li key={report.id}>\r\n                    <Link\r\n                      href={`/reports/${report.id}`}\r\n                      className=\"group flex flex-col md:flex-row md:items-center gap-3 px-4 md:px-5 py-3 hover:bg-slate-50 transition\"\r\n                    >\r\n                      {/* Â∑¶Ôºö„Çø„Ç§„Éà„É´/Ë™¨Êòé */}\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <p className=\"text-sm md:text-base font-semibold text-slate-900 group-hover:text-slate-950 truncate\">\r\n                          {report.title}\r\n                        </p>\r\n                        <p className=\"mt-1 text-[11px] md:text-xs text-slate-600 line-clamp-1\">\r\n                          {report.description}\r\n                        </p>\r\n\r\n                        {/* „É¢„Éê„Ç§„É´ÊåáÊ®ô */}\r\n                        <div className=\"mt-2 flex flex-wrap gap-2 md:hidden\">\r\n                          <span className=\"inline-flex items-center rounded-full bg-slate-100 px-2.5 py-1 text-[10px] text-slate-700\">\r\n                            ÂÆå‰∫Ü: <span className=\"ml-1 font-semibold text-slate-900\">{done}</span> / {total}\r\n                          </span>\r\n                          <span className=\"inline-flex items-center rounded-full bg-slate-100 px-2.5 py-1 text-[10px] text-slate-700\">\r\n                            ÂêàË®àÂÆüÁ∏æ:{\" \"}\r\n                            <span className=\"ml-1 font-semibold text-slate-900\">\r\n                              {formatHMFromSecondsSimple(totalSec)}\r\n                            </span>\r\n                          </span>\r\n                          <span className=\"inline-flex items-center rounded-full bg-slate-100 px-2.5 py-1 text-[10px] text-slate-700\">\r\n                            TodayÊÆã: <span className=\"ml-1 font-semibold text-slate-900\">{todayRem}</span>\r\n                          </span>\r\n                          <span\r\n                            className={`inline-flex items-center rounded-full bg-slate-100 px-2.5 py-1 text-[10px] ${avg.className}`}\r\n                          >\r\n                            Ë¶ãÁ©çÂ∑ÆÂàÜ: <span className=\"ml-1 font-semibold\">{avg.label}</span>\r\n                          </span>\r\n                        </div>\r\n\r\n                        {/* ‰∏ä‰Ωç„Çø„Ç∞ÔºàPC„Åß„Å†„ÅëÊ®™„Å´Âá∫„ÅôÔºâ */}\r\n                        {topTags.length > 0 && (\r\n                          <div className=\"mt-2 hidden md:flex flex-wrap gap-2\">\r\n                            {topTags.slice(0, 2).map((t) => (\r\n                              <span\r\n                                key={t.tag}\r\n                                className=\"inline-flex items-center rounded-full border border-slate-200 bg-white px-2.5 py-1 text-[10px] md:text-[11px] text-slate-700\"\r\n                              >\r\n                                {t.tag}Ôºö\r\n                                <span className=\"ml-1 font-semibold\">\r\n                                  {formatHMFromSecondsSimple(t.seconds)}\r\n                                </span>\r\n                              </span>\r\n                            ))}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n\r\n                      {/* ‰∏≠ÔºöÊåáÊ®ôÔºàPC„ÅÆ„ÅøÔºâ */}\r\n                      <div className=\"hidden md:flex flex-wrap justify-end gap-2\">\r\n                        <span className=\"inline-flex items-center rounded-full bg-slate-100 px-2.5 py-1 text-[10px] md:text-[11px] text-slate-700\">\r\n                          ÂÆå‰∫Ü: <span className=\"ml-1 font-semibold text-slate-900\">{done}</span> / {total}\r\n                        </span>\r\n\r\n                        <span className=\"inline-flex items-center rounded-full bg-slate-100 px-2.5 py-1 text-[10px] md:text-[11px] text-slate-700\">\r\n                          ÂêàË®àÂÆüÁ∏æ:{\" \"}\r\n                          <span className=\"ml-1 font-semibold text-slate-900\">\r\n                            {formatHMFromSecondsSimple(totalSec)}\r\n                          </span>\r\n                        </span>\r\n\r\n                        <span className=\"inline-flex items-center rounded-full bg-slate-100 px-2.5 py-1 text-[10px] md:text-[11px] text-slate-700\">\r\n                          TodayÊÆã: <span className=\"ml-1 font-semibold text-slate-900\">{todayRem}</span>\r\n                        </span>\r\n\r\n                        <span\r\n                          className={`inline-flex items-center rounded-full bg-slate-100 px-2.5 py-1 text-[10px] md:text-[11px] ${avg.className}`}\r\n                        >\r\n                          Ë¶ãÁ©çÂ∑ÆÂàÜ: <span className=\"ml-1 font-semibold\">{avg.label}</span>\r\n                        </span>\r\n                      </div>\r\n\r\n                      {/* Âè≥Ôºö‰ΩúÊàêÊó•„ÉªÂâäÈô§„ÉªÈñã„Åè */}\r\n                      <div className=\"flex items-center justify-between md:justify-end gap-3 text-[10px] md:text-[11px] text-slate-500\">\r\n                        <span className=\"whitespace-nowrap\">\r\n                          ‰ΩúÊàêÊó•: <span className=\"font-medium\">{formatDate(report.createdAt)}</span>\r\n                        </span>\r\n\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            handleDelete(report.id);\r\n                          }}\r\n                          className=\"text-red-500 hover:text-red-600 hover:underline\"\r\n                        >\r\n                          ÂâäÈô§\r\n                        </button>\r\n\r\n                        <span className=\"inline-flex items-center gap-1 text-slate-600 group-hover:text-slate-900 font-medium whitespace-nowrap\">\r\n                          „É¨„Éù„Éº„Éà„ÇíÈñã„Åè <span aria-hidden>‚Üí</span>\r\n                        </span>\r\n                      </div>\r\n                    </Link>\r\n                  </li>\r\n                );\r\n              })}\r\n            </ul>\r\n          </section>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}